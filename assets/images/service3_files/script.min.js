"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}(function(exports){"use strict";function EventEmitter(){}var proto=EventEmitter.prototype;var originalGlobalValue=exports.EventEmitter;function indexOfListener(listeners,listener){var i=listeners.length;while(i--){if(listeners[i].listener===listener){return i}}return-1}function alias(name){return function aliasClosure(){return this[name].apply(this,arguments)}}proto.getListeners=function getListeners(evt){var events=this._getEvents();var response;var key;if(evt instanceof RegExp){response={};for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){response[key]=events[key]}}}else{response=events[evt]||(events[evt]=[])}return response};proto.flattenListeners=function flattenListeners(listeners){var flatListeners=[];var i;for(i=0;i<listeners.length;i+=1){flatListeners.push(listeners[i].listener)}return flatListeners};proto.getListenersAsObject=function getListenersAsObject(evt){var listeners=this.getListeners(evt);var response;if(listeners instanceof Array){response={};response[evt]=listeners}return response||listeners};function isValidListener(listener){if(typeof listener==="function"||listener instanceof RegExp){return true}else if(listener&&_typeof(listener)==="object"){return isValidListener(listener.listener)}else{return false}}proto.addListener=function addListener(evt,listener){if(!isValidListener(listener)){throw new TypeError("listener must be a function")}var listeners=this.getListenersAsObject(evt);var listenerIsWrapped=_typeof(listener)==="object";var key;for(key in listeners){if(listeners.hasOwnProperty(key)&&indexOfListener(listeners[key],listener)===-1){listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:false})}}return this};proto.on=alias("addListener");proto.addOnceListener=function addOnceListener(evt,listener){return this.addListener(evt,{listener:listener,once:true})};proto.once=alias("addOnceListener");proto.defineEvent=function defineEvent(evt){this.getListeners(evt);return this};proto.defineEvents=function defineEvents(evts){for(var i=0;i<evts.length;i+=1){this.defineEvent(evts[i])}return this};proto.removeListener=function removeListener(evt,listener){var listeners=this.getListenersAsObject(evt);var index;var key;for(key in listeners){if(listeners.hasOwnProperty(key)){index=indexOfListener(listeners[key],listener);if(index!==-1){listeners[key].splice(index,1)}}}return this};proto.off=alias("removeListener");proto.addListeners=function addListeners(evt,listeners){return this.manipulateListeners(false,evt,listeners)};proto.removeListeners=function removeListeners(evt,listeners){return this.manipulateListeners(true,evt,listeners)};proto.manipulateListeners=function manipulateListeners(remove,evt,listeners){var i;var value;var single=remove?this.removeListener:this.addListener;var multiple=remove?this.removeListeners:this.addListeners;if(_typeof(evt)==="object"&&!(evt instanceof RegExp)){for(i in evt){if(evt.hasOwnProperty(i)&&(value=evt[i])){if(typeof value==="function"){single.call(this,i,value)}else{multiple.call(this,i,value)}}}}else{i=listeners.length;while(i--){single.call(this,evt,listeners[i])}}return this};proto.removeEvent=function removeEvent(evt){var type=_typeof(evt);var events=this._getEvents();var key;if(type==="string"){delete events[evt]}else if(evt instanceof RegExp){for(key in events){if(events.hasOwnProperty(key)&&evt.test(key)){delete events[key]}}}else{delete this._events}return this};proto.removeAllListeners=alias("removeEvent");proto.emitEvent=function emitEvent(evt,args){var listenersMap=this.getListenersAsObject(evt);var listeners;var listener;var i;var key;var response;for(key in listenersMap){if(listenersMap.hasOwnProperty(key)){listeners=listenersMap[key].slice(0);for(i=0;i<listeners.length;i++){listener=listeners[i];if(listener.once===true){this.removeListener(evt,listener.listener)}response=listener.listener.apply(this,args||[]);if(response===this._getOnceReturnValue()){this.removeListener(evt,listener.listener)}}}}return this};proto.trigger=alias("emitEvent");proto.emit=function emit(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)};proto.setOnceReturnValue=function setOnceReturnValue(value){this._onceReturnValue=value;return this};proto._getOnceReturnValue=function _getOnceReturnValue(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};proto._getEvents=function _getEvents(){return this._events||(this._events={})};EventEmitter.noConflict=function noConflict(){exports.EventEmitter=originalGlobalValue;return EventEmitter};if((typeof module==="undefined"?"undefined":_typeof(module))==="object"&&module.exports){module.exports=EventEmitter}else{exports.EventEmitter=EventEmitter}})(window||{});(function(w){if(typeof w.verloopCount==="undefined"){w.verloopCount=0}var extractOriginFromUrl=function extractOriginFromUrl(url){var pathArray=url.split("/");var protocol=pathArray[0];var host=pathArray[2];return protocol+"//"+host};try{if(w.verloopCount>0){console.error("Multiple Verloop script found.");throw new Error("Verloop script should only be added once.")}w.verloopCount++;w.Verloop=w.Verloop||{_:[]};var config={};var widget;var iframe;var hookQueue=[];var queue=[];var _ready=false;var validCallbacks=["chat-maximized","chat-minimized","chat-started","chat-ended","button-clicked"];var callbacks=new EventEmitter;var registerCallback=function registerCallback(eventName,fn){if(validCallbacks.indexOf(eventName)===-1){return false}return callbacks.on(eventName,fn)};var emitCallback=function emitCallback(eventName,data){if(typeof data!=="undefined"){callbacks.emit(eventName,data)}else{callbacks.emit(eventName)}};var callHook=function callHook(action,params){if(!_ready){return hookQueue.push(arguments)}var data={src:"verloop",fn:action,args:params};iframe.contentWindow.postMessage(data,"*")};var _closeWidget=function closeWidget(){if(!_ready){return queue.push("closeWidget")}var container=document.querySelector(".verloop-container");var visible=container.classList.contains("visible");if(!visible){if(widget.dataset.state!=="closed"){widget.dataset.state="closed"}return}widget.classList.add("closing");setTimeout(function(){widget.classList.remove("closing");widget.classList.remove("opened");container.classList.remove("visible");widget.dataset.state="closed";callHook("widgetClosed");emitCallback("chat-minimized")},200)};var _openWidget=function openWidget(){if(!_ready){return queue.push("openWidget")}var container=document.querySelector(".verloop-container");var visible=container.classList.contains("visible");if(visible){if(widget.dataset.state!=="opened"){widget.dataset.state="opened"}return}widget.classList.remove("trigger-on");container.classList.add("visible");widget.classList.add("opening");setTimeout(function(){widget.dataset.state="opened";widget.classList.remove("opening");widget.classList.add("opened");callHook("widgetOpened");iframe.focus();emitCallback("chat-maximized")},200);var triggerEl=document.querySelector(".verloop-trigger-msg");if(triggerEl){triggerEl.remove()}};var _openUrl=function openUrl(url){var newWindow=window.open(url);newWindow.focus()};var showTriggerMessage=function showTriggerMessage(user,msg){var triggerMessage=document.createElement("div");triggerMessage.className="verloop-trigger-msg";triggerMessage.innerHTML='\n\t\t\t<div class="verloop-trigger-user">\n\t\t\t\t<strong class="verloop-trigger-name">'.concat(user,'</strong>\n\t\t\t\t<span>says</span>\n\t\t\t</div>\n\t\t\t<div class="verloop-trigger-body">').concat(msg,"</div>");var button=document.querySelector(".verloop-button");if(button){button.appendChild(triggerMessage);setTimeout(function(){widget.classList.add("trigger-on");triggerMessage.style.display="block";triggerMessage.classList.add("open")},100)}};var api={ready:function ready(args){_ready=true;if(hookQueue.length>0){hookQueue.forEach(function(hookParams){callHook.apply(this,hookParams)});hookQueue=[]}if(queue.length>0){queue.forEach(function(name){api[name].apply(this)});queue=[]}var btn=document.querySelector(".verloop-button");btn.classList.add("no-transition");btn.style.backgroundColor=args.color;btn.classList.remove("no-transition");setTimeout(function(){widget.classList.remove("starting");widget.classList.add("started");widget.dataset.state="closed"},100)},fireTrigger:function fireTrigger(args){var trigger=args.trigger;if(trigger.message&&trigger.agent){showTriggerMessage(trigger.agent.name,trigger.message.msg)}},toggleWindow:function toggleWindow(){if(widget.dataset.state==="closed"){_openWidget()}else{_closeWidget()}},openUrl:function openUrl(args){if(args.url){_openUrl(args.url)}},openWidget:function openWidget(){_openWidget()},closeWidget:function closeWidget(){_closeWidget()},removeWidget:function removeWidget(){document.getElementsByTagName("body")[0].removeChild(widget)},callback:function callback(eventName,data){emitCallback(eventName,data)}};var pageVisited=function pageVisited(change){callHook("pageVisited",{change:change,location:JSON.parse(JSON.stringify(document.location)),title:document.title})};var currentSrc=function currentSrc(){if(iframe){return iframe.src}};var setUserParams=function setUserParams(params){if(params.userId){var url=extractOriginFromUrl(currentSrc()||w.Verloop.url);var newUrl="".concat(url,"/livechat?user_id=").concat(params.userId);if(params.name){newUrl+="&name=".concat(params.name)}if(params.email){newUrl+="&email=".concat(params.email)}if(params.phone){newUrl+="&phone=".concat(params.phone)}w.Verloop.url=newUrl;if(_ready){init(newUrl)}}else{callHook("setUserParams",params)}};var setCustomField=function setCustomField(key,value,options){callHook("setCustomField",[key,value,options])};var setDepartment=function setDepartment(department){callHook("setDepartment",department)};var setRecipe=function setRecipe(recipe){callHook("setRecipe",recipe)};var clearDepartment=function clearDepartment(){callHook("clearDepartment")};var close=function close(){callHook("close")};var currentPage={href:null,title:null};var trackNavigation=function trackNavigation(){return setInterval(function(){if(document.location.href!==currentPage.href){pageVisited("url");currentPage.href=document.location.href}if(document.title!==currentPage.title){pageVisited("title");currentPage.title=document.title}},800)};var destroy=function destroy(){var widget=document.querySelector(".verloop-widget");if(widget){document.body.removeChild(widget)}if(config._timer){clearInterval(config._timer);delete config._timer}iframe=null;widget=null;_ready=false};var _changeUrl=function _changeUrl(url){hookQueue=[];_ready=false;init(url)};var stop=function stop(){return destroy()};var init=function init(url){if(currentSrc()===url){return}destroy();var viewportMeta=document.querySelector('meta[name="viewport"]');if(!viewportMeta){viewportMeta=document.createElement("meta");viewportMeta.setAttribute("name","viewport");document.getElementsByTagName("head")[0].appendChild(viewportMeta)}viewportMeta.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no");if(!document.getElementById("verloopCss")){var css=document.createElement("style");css.id="verloopCss";css.type="text/css";css.innerHTML="\n\t\t\t\t\t.no-transition {\n\t\t\t\t\t\ttransition: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-button {\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\tbottom: 20px;\n\t\t\t\t\t\tright: 20px;\n\t\t\t\t\t\tz-index: 2147483647;\n\t\t\t\t\t\tfont-family: 'Source Sans Pro', sans-serif;\n\t\t\t\t\t\tfont-weight: 400;\n\t\t\t\t\t\tfont-size: 14px;\n\t\t\t\t\t\twidth: 60px;\n\t\t\t\t\t\theight: 60px;\n\t\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t\tbox-shadow: -1px 2px 10px rgba(0, 0, 0, 0.28);\n\t\t\t\t\t\tbackground-color: #1b7cfb;\n\t\t\t\t\t\ttransition: all 200ms ease-in-out;\n\t\t\t\t\t\ttransform: none;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-button strong {\n\t\t\t\t\t\tfont-weight: 600;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-trigger-msg {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbottom: 0px;\n\t\t\t\t\t\tright: 68px;\n\t\t\t\t\t\twidth: 280px;\n\t\t\t\t\t\tfont-size: 0.95em;\n\t\t\t\t\t\tfont-weight: 300;\n\t\t\t\t\t\tborder-radius: 5px 5px 0 5px;\n\t\t\t\t\t\tbox-shadow: 3px 3px 20px rgba(0, 0, 0, 0.2);\n\t\t\t\t\t\tcolor: #505050;\n\t\t\t\t\t\tpadding: 12px 18px;\n\t\t\t\t\t\tbackground-color: #fff;\n\t\t\t\t\t\tanimation-duration: 200ms;\n\t\t\t\t\t\tanimation-fill-mode: both;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t\tz-index: 2147483647;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-trigger-msg:after {\n\t\t\t\t\t\tcontent: \"\";\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tright: -6px;\n\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\theight: 0;\n\t\t\t\t\t\tborder-style: solid;\n\t\t\t\t\t\tborder-width: 0 9px 6px 0;\n\t\t\t\t\t\tborder-color: transparent transparent #fff\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-trigger-msg.open {\n\t\t\t\t\t\tanimation-name: window-fade-in-up;\n\t\t\t\t\t\tanimation-timing-function: ease-in;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-trigger-user {\n\t\t\t\t\t\tmargin-bottom: 8px;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-trigger-name {\n\t\t\t\t\t\tmargin-right: 3px;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-widget.starting .verloop-button, .verloop-widget.opened .verloop-button, .verloop-widget.opening .verloop-button, .verloop-widget.closing .verloop-button {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: scale3d(0, 0, 0);\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-livechat-logo {\n\t\t\t\t\t\theight: 60px;\n\t\t\t\t\t\twidth: 60px;\n\t\t\t\t\t\tbackground-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAA/NJREFUWAm9l9uLjWscx2ctQyF7a1PkQpTa7Z19obYk0oQbuRLKFcrFVi5cqP1PYB9y4UJy4QJlKCnuXZAGETU0RWqiHCOHzRx8Ps/7/tY8611rzB6t8avv+/zOh+d5D2vVusah0dHROqZ6rVYbChd0P8P/Dn4Di8GPYBp4B56CftAHbhP3nrWLmBqLeYaV/xcRZNJE8N1gC+gFz8FE9AmHa+AAWJTnCf6rK0Hd4QC/FlwGVRpCIT6XCHm44jiA/EeWr5E7dE0rzg0HeCd4D4KczEIjE8Amwhc20WmuCyzG2qjxteL/FnHp+pFrdbLMPC5ro/9l1uvwS9s2gSE/87+yoDxBpp4U6665I1IfWNjUBIqaKJX74IMiKORJryMjbkKiOBaF8yDq1RtngnIFeAWkNHmWoNB+wzXLYRPR0f5yYB/1gjCeKfN3rHj0mzXhUyMNgiVWTh0g9MBvVQGl+4EXRyF14JrlMrcvJN8Pe0wdW7ADXuNnVxpiaSEDR1q0KCr++rjdLa7o8qm2I/9U5+LzuaH0Tg5Zx6rNZHEbtOGW5Jm/fvpMQ9fScOaHS5ev9TU6LwfLgJR2JOve4jZl8SCTq6+O6OThpy01TK6qn/lCt9qCvwLJBPkONGT0Z8F6sB3cBJEkEsXk97HtBD3gOOii2eSb9aFsbukXz++gXULxmpX3cVGW/LDMKvzTea9EfqEB0if8PsBvCj9X5ItA8u6PRzDPfcsd8JPajtJuYLjFEH4TZpdON1gflbyL00uD4LoMvnNcoavFUuysPDbzRu75NjBdAxTbWUhj8iqC5tKE33xpDYh7RjnOfTH8OhX4viXGvD3KEGLTE1Boufplim4aylJnc9IKcIoER1nngT/BD8Bz1Md4d8GC/+DnM/4Q7AIbgeSNmxjWfNCXfgdOYNkN4kZS5xQG6NzSIPakj6Q6QtFQIY1dqzmU9XXnLsQEY+5wWWKLGxDnnHjsUlMMgrn000cKvuqoPXa3P5gUwWBVZ/XqfDtG4jjzFFO5hC0mbJfPPKG/1tQAU0WRSt60KwZFYIs9U+jTlDdsYzMkzQDXK20dI6DTa2XAc8jPv2sDDOR94TE9A8dA+63SMAWUPyWHmH7Ae25KdyA7c+8t/+BY7xL4G0j1KW2AKS3i5P7OmAHugb3o/TZ0sw43NeCW4NARKqe3sGTxu2AbRR+XxdNfvryBUYzjPoZmqZJFAtiMFU48RC4L+Hq2xkWwGV1/Xhxd+hYYILlOagdImAK5ROMWC2gbBIfBERuqFtfBj9FMGcht6hTdIVEvOEnhhyZtV1y9Dfgr5gF4DfIjQZyQ3ALP+Q14AuLveR+FzRff/6a/+eqDvgAdeHSpWDn94wAAAABJRU5ErkJggg==');\n\t\t\t\t\t\tbackground-size: 28px 28px;\n\t\t\t\t\t\tbackground-repeat: no-repeat;\n\t\t\t\t\t\tbackground-position: center center;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-container {\n\t\t\t\t\t\theight: 0px;\n\t\t\t\t\t\twidth: 0px;\n\t\t\t\t\t\tposition: fixed;\n\t\t\t\t\t\tright: 20px;\n\t\t\t\t\t\tbottom: 20px;\n\t\t\t\t\t\tdisplay: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-container.visible {\n\t\t\t\t\t\theight: calc(100% - 150px);\n\t\t\t\t\t\twidth: 370px;\n\t\t\t\t\t\tmin-height: 200px;\n\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\tz-index: 2147483647;\n\t\t\t\t\t\tborder-radius: 8px;\n\t\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\tbox-shadow: 0 0 20px rgba(0, 0, 0, 0.28);\n\t\t\t\t\t\tanimation-duration: 200ms;\n\t\t\t\t\t\tanimation-fill-mode: both;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-widget.opening .verloop-container {\n\t\t\t\t\t\tanimation-name: window-fade-in-up;\n\t\t\t\t\t\tanimation-timing-function: ease-in;\n\t\t\t\t\t}\n\n\t\t\t\t\t.verloop-widget.closing .verloop-container {\n\t\t\t\t\t\tanimation-name: window-fade-out-down;\n\t\t\t\t\t\tanimation-timing-function: ease-out;\n\t\t\t\t\t}\n\n\t\t\t\t\t#verloop-iframe {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tborder: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t@keyframes window-fade-in-up {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translate3d(0, 10px, 0);\n\t\t\t\t\t}\n\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: none;\n\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t@keyframes window-fade-out-down {\n\t\t\t\t\tfrom {\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\ttransform: none;\n\t\t\t\t\t}\n\n\t\t\t\t\tto {\n\t\t\t\t\t\topacity: 0;\n\t\t\t\t\t\ttransform: translate3d(0, 10px, 0);\n\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t@media only screen and (max-width: 480px) {\n\t\t\t\t\t\t.verloop-container.visible {\n\t\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\tborder-radius: 0;\n\t\t\t\t\t\t\tbox-shadow: none;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t";var font=document.createElement("link");font.setAttribute("href","https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600");font.setAttribute("rel","stylesheet");document.getElementsByTagName("head")[0].appendChild(css);document.getElementsByTagName("head")[0].appendChild(font);w.addEventListener("message",function(msg){if(_typeof(msg.data)==="object"&&msg.data.src!==undefined&&msg.data.src==="verloop"){if(api[msg.data.fn]!==undefined&&typeof api[msg.data.fn]==="function"){var args=[].concat(msg.data.args||[]);api[msg.data.fn].apply(null,args)}}},false)}var chatWidget=document.createElement("div");chatWidget.dataset.state="start";chatWidget.className="verloop-widget starting";chatWidget.innerHTML='\n\t\t\t\t<div class="verloop-button">\n\t\t\t\t\t<div class="verloop-livechat-logo"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="verloop-container">\n\t\t\t\t\t<iframe id="verloop-iframe" src="'.concat(url,'" allowTransparency="true" allowfullscreen></iframe>\n\t\t\t\t</div>\n\t\t\t');document.getElementsByTagName("body")[0].appendChild(chatWidget);document.querySelector(".verloop-button").addEventListener("click",_openWidget);widget=document.querySelector(".verloop-widget");iframe=document.getElementById("verloop-iframe");config._timer=trackNavigation()};var livechat={stop:stop,changeUrl:_changeUrl,setUserParams:setUserParams,setCustomField:setCustomField,setDepartment:setDepartment,clearDepartment:clearDepartment,setRecipe:setRecipe,openWidget:_openWidget,closeWidget:_closeWidget,close:close,onButtonClicked:function onButtonClicked(fn){registerCallback("button-clicked",fn)},onChatMaximized:function onChatMaximized(fn){registerCallback("chat-maximized",fn)},onChatMinimized:function onChatMinimized(fn){registerCallback("chat-minimized",fn)},onChatStarted:function onChatStarted(fn){registerCallback("chat-started",fn)},onChatEnded:function onChatEnded(fn){registerCallback("chat-ended",fn)}};w.Verloop._.forEach(function(c){c.call(livechat)});var onReady=function onReady(){if(typeof w.Verloop.url!=="undefined"){init(w.Verloop.url)}w.Verloop=function(c){c.call(livechat)};w.Verloop.livechat=livechat};if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",onReady)}else{onReady()}}catch(e){console.error(e)}})(window);